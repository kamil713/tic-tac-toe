"use strict";function _defineProperties(t,r){for(var e=0;e<r.length;e++){var n=r[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,r,e){return r&&_defineProperties(t.prototype,r),e&&_defineProperties(t,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}var State=_createClass(function t(r){if(_classCallCheck(this,t),this.turn="",this.oMovesCount=0,this.result="still running",this.board=[],void 0!==r){var e=r.board.length;this.board=new Array(e);for(var n=0;n<e;n++)this.board[n]=r.board[n];this.oMovesCount=r.oMovesCount,this.result=r.result,this.turn=r.turn}this.advanceTurn=function(){this.turn="X"===this.turn?"O":"X"},this.emptyCells=function(){for(var t=[],r=0;r<9;r++)"E"===this.board[r]&&t.push(r);return t},this.isTerminal=function(){for(var t=this.board,r=0;r<=6;r+=3)if("E"!==t[r]&&t[r]===t[r+1]&&t[r+1]==t[r+2])return this.result=t[r]+"-won",!0;for(var e=0;e<=2;e++)if("E"!==t[e]&&t[e]===t[e+3]&&t[e+3]===t[e+6])return this.result=t[e]+"-won",!0;for(var n=0,i=4;n<=2;n+=2,i-=2)if("E"!==t[n]&&t[n]==t[n+i]&&t[n+i]===t[n+2*i])return this.result=t[n]+"-won",!0;return 0==this.emptyCells().length&&(this.result="draw",!0)}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdhbWUuanMiXSwibmFtZXMiOlsiU3RhdGUiLCJvbGQiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0aGlzIiwidHVybiIsIm9Nb3Zlc0NvdW50IiwicmVzdWx0IiwiYm9hcmQiLCJsZW4iLCJsZW5ndGgiLCJBcnJheSIsIml0ciIsImFkdmFuY2VUdXJuIiwiZW1wdHlDZWxscyIsImluZHhzIiwicHVzaCIsImlzVGVybWluYWwiLCJCIiwiaSIsImoiXSwibWFwcGluZ3MiOiIwY0FDTUEsTSxhQUNMLFNBQUFBLEVBQVlDLEdBT1gsR0FQZ0JDLGdCQUFBQyxLQUFBSCxHQUVoQkcsS0FBS0MsS0FBTyxHQUNaRCxLQUFLRSxZQUFjLEVBQ25CRixLQUFLRyxPQUFTLGdCQUNkSCxLQUFLSSxNQUFRLFFBRU0sSUFBUk4sRUFBcUIsQ0FQaEIsSUFBQU8sRUFBQVAsRUFBQU0sTUFBQUUsT0FTZk4sS0FBS0ksTUFBUSxJQUFJRyxNQUFNRixHQVB4QixJQUFLSixJQUFMTyxFQUFBLEVBQUFBLEVBQUFILEVBQUFHLElBQ0FSLEtBQUtFLE1BQUFBLEdBQUxKLEVBQUFNLE1BQUFJLEdBV0NSLEtBQUtFLFlBQWNKLEVBQUlJLFlBUHhCRixLQUFJRyxPQUFBTCxFQUFlSyxPQVNsQkgsS0FSSUssS0FBTVAsRUFBSU0sS0FXZkosS0FUQ1MsWUFBQSxXQVVBVCxLQVRDQyxLQUFzQkcsTUFBakJBLEtBQUxILEtBQTRCTyxJQUE1QixLQVlGUixLQVRDVSxXQUFBLFdBV0EsSUFEQSxJQVRBQyxFQUFBLEdBQ0tWLEVBQU9ILEVBQUlHLEVBQWhCLEVBQUFPLElBQ0EsTUFBQVIsS0FBQUksTUFBQUksSUFVRUcsRUFBTUMsS0FBS0osR0FSZCxPQUFBRyxHQWNBWCxLQVRDYSxXQUFBLFdBYUEsSUFIQSxJQUFJQyxFQUFJZCxLQUFLSSxNQVBYTyxFQUFNQyxFQUFLSixHQUFYLEVBQUFPLEdBQUEsRUFXRCxHQVZDLE1BQUFELEVBQUFDLElBQUFELEVBQUFDLEtBQUFELEVBQUFDLEVBQUEsSUFBQUQsRUFBQUMsRUFBQSxJQUFBRCxFQUFBQyxFQUFBLEdBWUEsT0FYRGYsS0FBQUcsT0FBQVcsRUFBQUMsR0FBQSxRQVdRLEVBS1QsSUFYSUQsSUFBSUMsRUFBQSxFQUFLWCxHQUViLEVBQUFXLElBVUMsR0FBYSxNQUFURCxFQUFFQyxJQUFjRCxFQUFFQyxLQUFPRCxFQUFFQyxFQUFJLElBQU1ELEVBQUVDLEVBQUksS0FBT0QsRUFBRUMsRUFBSSxHQUUzRCxPQVhGZixLQUFLRyxPQUFMVyxFQUFpQkMsR0FBakIsUUFDT0EsRUFlUCxJQVRBLElBQUFBLEVBQUEsRUFBQUMsRUFBQSxFQUFBRCxHQUFBLEVBQUFBLEdBQUEsRUFBQUMsR0FBQSxFQVVDLEdBQWEsTUFBVEYsRUFBRUMsSUFBY0QsRUFBRUMsSUFBTUQsRUFBRUMsRUFBSUMsSUFBTUYsRUFBRUMsRUFBSUMsS0FBT0YsRUFBRUMsRUFBSSxFQUFJQyxHQVRoRSxPQVVFaEIsS0FBS0csT0FBU1csRUFBRUMsR0FBSyxRQVZsQixFQWdCTCxPQVpFLEdBREFmLEtBQUFVLGFBQ0FKLFNBY0ROLEtBQUtHLE9BQVMsUUFDUCIsImZpbGUiOiJnYW1lLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qIFNUQVRFICovXHJcbmNsYXNzIFN0YXRlIHtcclxuXHRjb25zdHJ1Y3RvcihvbGQpIHtcclxuXHJcblx0XHR0aGlzLnR1cm4gPSAnJztcclxuXHRcdHRoaXMub01vdmVzQ291bnQgPSAwO1xyXG5cdFx0dGhpcy5yZXN1bHQgPSAnc3RpbGwgcnVubmluZyc7XHJcblx0XHR0aGlzLmJvYXJkID0gW107XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBvbGQgIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdGxldCBsZW4gPSBvbGQuYm9hcmQubGVuZ3RoO1xyXG5cdFx0XHR0aGlzLmJvYXJkID0gbmV3IEFycmF5KGxlbik7XHJcblx0XHRcdGZvciAobGV0IGl0ciA9IDA7IGl0ciA8IGxlbjsgaXRyKyspIHtcclxuXHRcdFx0XHR0aGlzLmJvYXJkW2l0cl0gPSBvbGQuYm9hcmRbaXRyXTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5vTW92ZXNDb3VudCA9IG9sZC5vTW92ZXNDb3VudDtcclxuXHRcdFx0dGhpcy5yZXN1bHQgPSBvbGQucmVzdWx0O1xyXG5cdFx0XHR0aGlzLnR1cm4gPSBvbGQudHVybjtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmFkdmFuY2VUdXJuID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHR0aGlzLnR1cm4gPSB0aGlzLnR1cm4gPT09ICdYJyA/ICdPJyA6ICdYJztcclxuXHRcdH07XHJcblxyXG5cdFx0dGhpcy5lbXB0eUNlbGxzID0gZnVuY3Rpb24gKCkge1xyXG5cdFx0XHRsZXQgaW5keHMgPSBbXTtcclxuXHRcdFx0Zm9yIChsZXQgaXRyID0gMDsgaXRyIDwgOTsgaXRyKyspIHtcclxuXHRcdFx0XHRpZiAodGhpcy5ib2FyZFtpdHJdID09PSAnRScpIHtcclxuXHRcdFx0XHRcdGluZHhzLnB1c2goaXRyKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0cmV0dXJuIGluZHhzO1xyXG5cdFx0fTtcclxuXHJcblx0XHR0aGlzLmlzVGVybWluYWwgPSBmdW5jdGlvbiAoKSB7XHJcblx0XHRcdGxldCBCID0gdGhpcy5ib2FyZDtcclxuXHJcblx0XHRcdC8vY2hlY2sgcm93c1xyXG5cdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8PSA2OyBpID0gaSArIDMpIHtcclxuXHRcdFx0XHRpZiAoQltpXSAhPT0gJ0UnICYmIEJbaV0gPT09IEJbaSArIDFdICYmIEJbaSArIDFdID09IEJbaSArIDJdKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IEJbaV0gKyAnLXdvbic7IC8vdXBkYXRlIHRoZSBzdGF0ZSByZXN1bHRcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9jaGVjayBjb2x1bW5zXHJcblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDw9IDI7IGkrKykge1xyXG5cdFx0XHRcdGlmIChCW2ldICE9PSAnRScgJiYgQltpXSA9PT0gQltpICsgM10gJiYgQltpICsgM10gPT09IEJbaSArIDZdKSB7XHJcblx0XHRcdFx0XHR0aGlzLnJlc3VsdCA9IEJbaV0gKyAnLXdvbic7IC8vdXBkYXRlIHRoZSBzdGF0ZSByZXN1bHRcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly9jaGVjayBkaWFnb25hbHNcclxuXHRcdFx0Zm9yIChsZXQgaSA9IDAsIGogPSA0OyBpIDw9IDI7IGkgPSBpICsgMiwgaiA9IGogLSAyKSB7XHJcblx0XHRcdFx0aWYgKEJbaV0gIT09ICdFJyAmJiBCW2ldID09IEJbaSArIGpdICYmIEJbaSArIGpdID09PSBCW2kgKyAyICogal0pIHtcclxuXHRcdFx0XHRcdHRoaXMucmVzdWx0ID0gQltpXSArICctd29uJzsgLy91cGRhdGUgdGhlIHN0YXRlIHJlc3VsdFxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRsZXQgYXZhaWxhYmxlID0gdGhpcy5lbXB0eUNlbGxzKCk7XHJcblx0XHRcdGlmIChhdmFpbGFibGUubGVuZ3RoID09IDApIHtcclxuXHRcdFx0XHQvL3RoZSBnYW1lIGlzIGRyYXdcclxuXHRcdFx0XHR0aGlzLnJlc3VsdCA9ICdkcmF3JzsgLy91cGRhdGUgdGhlIHN0YXRlIHJlc3VsdFxyXG5cdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9XHJcbn0iXX0=
